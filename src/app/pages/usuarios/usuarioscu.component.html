<div class="modal-header">
  <h4 class="modal-title pull-left"> {{ title }} </h4>
  <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<form class="register-form" [formGroup]="forma" (ngSubmit)="registrarUsuario()" #formDir="ngForm">

  <div class="modal-body">

    <div class="row">

      <div class="form-group col-md-6">
        <input maxlength="50" minlength="2" type="text" [ngClass]="{
          'red-input': (forma.get('nombre').hasError('required') && forma.get('nombre').touched) || 
          (formDir.submitted && forma.get('nombre').hasError('required') || forma.get('nombre').hasError('minlength') || forma.get('nombre').hasError(maxlength)) }"
          formControlName="nombre" name="nombre" class="form-control" placeholder="Nombres *" />

        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('nombre').hasError('required')) || (forma.get('nombre').hasError('required') && forma.get('nombre').touched)">Este
          campo es
          requerido *</p>
        <p class="text-danger" *ngIf="formDir.submitted && forma.get('nombre').hasError('minlength')">Este campo
          tiene un minimo de 2 caracteres *</p>
        <p class="text-danger" *ngIf="formDir.submitted && forma.get('nombre').hasError('maxlength')">Este campo
          tiene un maximo de 50 caracteres *</p>

      </div>

      <div class="form-group col-md-6">
        <input maxlength="50" minlength="2" type="text" [ngClass]="{
          'red-input': (forma.get('appaterno').hasError('required') && forma.get('appaterno').touched) || 
          (formDir.submitted && forma.get('appaterno').hasError('required') || forma.get('appaterno').hasError('minlength') || forma.get('appaterno').hasError(maxlength)) }"
          formControlName="appaterno" name="appaterno" class="form-control" placeholder="Apellido Paterno *" />

        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('appaterno').hasError('required')) || (forma.get('appaterno').hasError('required') && forma.get('appaterno').touched)">Este
          campo es
          requerido *</p>
        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('appaterno').hasError('minlength')) || (forma.get('appaterno').hasError('minlength') && forma.get('appaterno').touched)">Este
          campo
          tiene un minimo de 2 caracteres *</p>
        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('appaterno').hasError('maxlength')) || (forma.get('appaterno').hasError('maxlength') && forma.get('appaterno').touched)">Este
          campo
          tiene un maximo de 50 caracteres *</p>

      </div>

      <div class="form-group col-md-6">
        <input maxlength="50" minlength="2" type="text" [ngClass]="{
          'red-input': (forma.get('apmaterno').hasError('required') && forma.get('apmaterno').touched) || 
          (formDir.submitted && forma.get('apmaterno').hasError('required') || forma.get('apmaterno').hasError('minlength') || forma.get('apmaterno').hasError(maxlength)) }"
          formControlName="apmaterno" name="apmaterno" class="form-control" placeholder="Apellido Materno*" />

        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('apmaterno').hasError('required')) || (forma.get('apmaterno').hasError('required') && forma.get('apmaterno').touched)">Este
          campo es
          requerido *</p>
        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('apmaterno').hasError('minlength')) || (forma.get('apmaterno').hasError('minlength') && forma.get('apmaterno').touched)">Este
          campo
          tiene un minimo de 2 caracteres *</p>
        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('apmaterno').hasError('maxlength')) || (forma.get('apmaterno').hasError('maxlength') && forma.get('apmaterno').touched)">Este
          campo
          tiene un maximo de 50 caracteres *</p>

      </div>

      <div class="form-group col-md-6">
        <input type="email" [ngClass]="{
          'red-input': (forma.get('email').hasError('required') && forma.get('email').touched || forma.get('email').hasError('email') && forma.get('email').touched) || 
          (formDir.submitted && forma.get('email').hasError('required') || forma.get('email').hasError('email')) }"
          formControlName="email" name="email" class="form-control" placeholder="Email *" />

        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('email').hasError('required')) || (forma.get('email').hasError('required') && forma.get('email').touched)">Este
          campo es
          requerido *</p>
        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('email').hasError('email')) || (forma.get('email').hasError('email') && forma.get('email').touched)">El
          formato del email no es valido *</p>

      </div>

      <div class="form-group col-md-6">
        <input type="email" [ngClass]="{
          'red-input': (forma.get('emailconfirm').hasError('required') && forma.get('emailconfirm').touched || forma.get('emailconfirm').hasError('matchemail') && forma.get('emailconfirm').touched) || 
          (formDir.submitted && forma.get('emailconfirm').hasError('required') || forma.get('emailconfirm').hasError('matchemail')) }"
          formControlName="emailconfirm" name="emailconfirm" class="form-control" placeholder="Confirma tu email *" />

        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('emailconfirm').hasError('required')) || (forma.get('emailconfirm').hasError('required') && forma.get('emailconfirm').touched)">Este
          campo es
          requerido *</p>
        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('emailconfirm').hasError('matchemail')) || (forma.get('emailconfirm').hasError('matchemail') && forma.get('emailconfirm').touched)">Los
          email deben coincidir*</p>

      </div>

      <div class="form-group col-md-6">
        <input type="password" [ngClass]="{
          'red-input': (forma.get('password').hasError('required') && forma.get('password').touched) || 
          (formDir.submitted && forma.get('password').hasError('required') || forma.get('password').hasError('minlength')) }"
          formControlName="password" name="password" class="form-control" placeholder="Contraseña *" />

        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('password').hasError('required')) || (forma.get('password').hasError('required') && forma.get('password').touched)">Este
          campo es
          requerido *</p>
        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('password').hasError('minlength')) || (forma.get('password').hasError('minlength') && forma.get('password').touched)">Este
          campo
          tiene un minimo de 5 caracteres *</p>

      </div>

      <div class="form-group col-md-6">
        <input type="password" [ngClass]="{
          'red-input': (forma.get('passwordconfirm').hasError('required') && forma.get('passwordconfirm').touched || forma.get('passwordconfirm').hasError('matchpassword') && forma.get('passwordconfirm').touched) || 
          (formDir.submitted && forma.get('passwordconfirm').hasError('required') || forma.get('passwordconfirm').hasError('matchpassword')) }"
          formControlName="passwordconfirm" name="passwordconfirm" class="form-control" placeholder="Confirma tu contraseña *" />

        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('passwordconfirm').hasError('required')) || (forma.get('passwordconfirm').hasError('required') && forma.get('passwordconfirm').touched)">Este
          campo es
          requerido *</p>
        <p class="text-danger" *ngIf="(formDir.submitted && forma.get('passwordconfirm').hasError('matchpassword')) || (forma.get('passwordconfirm').hasError('matchpassword') && forma.get('passwordconfirm').touched)">Las
          contraseñas deben coincidir *</p>



      </div>

    </div>

  </div>

  <div class="modal-footer">
    <div class="row">
      <div class="col-md-12 text-right">
        <button type="submit" class="btn btn-default">Registrar</button>
      </div>
    </div>
  </div>

</form>