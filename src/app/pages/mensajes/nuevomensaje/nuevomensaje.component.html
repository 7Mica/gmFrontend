<div class="modal-header">
  <h4 class="modal-title">{{ dataModal.title }}</h4>
  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span class="pointer" aria-hidden="true" (click)="cerrar()">&times;</span>
  </button>
</div>
<form [formGroup]="mensajeForm" (ngSubmit)="sendMessage()">
  <div class="modal-body">

    <div class="row">
      <div class="col-md-4">

        <div class="form-group">
          <label for="titulo">Titulo del mensaje</label>
          <input type="text" name="titulo" [attr.disabled]="dataModal.data" formControlName="titulo" class="form-control"
            placeholder="" aria-describedby="helpTitulo">
          <small id="helpTitulo" class="text-muted" *ngIf="!dataModal.data">Escribe el titulo del mensaje</small>
        </div>

        <div class="form-group">
          <label for="cliente">Cliente</label>
          <ng-select formControlName="cliente" [virtualScroll]="true" [dropdownPosition]="'bottom'" [items]="clientes"
            bindLabel="fullName" bindValue="_id" placeholder="Selecciona un cliente">
          </ng-select>
        </div>

        <div class="form-group" *ngIf="dataModal.data">
          <label>Fecha del mensaje:</label> <br>
          <label>{{ dataModal.data.fechaenviado | date: 'dd/MM/yyyy hh:mm:ss' }}</label>
        </div>
      </div>

      <div class="col-md-8">
        <div class="form-group">
          <label for="cuerpo">Cuerpo del mensaje</label>
          <textarea [attr.disabled]="dataModal.data" class="form-control" formControlName="cuerpo" name="cuerpo" cols="30"
            rows="10"></textarea>
          <small id="helpCuerpo" class="text-muted" *ngIf="!dataModal.data">Escribe el mensaje que deseas enviar</small>
        </div>

      </div>
    </div>

  </div>

  <div class="modal-footer">
    <button type="submit" [disabled]="mensajeForm.invalid" class="btn btn-facebook btn-block" *ngIf="!dataModal.data">Enviar</button>
  </div>
</form>